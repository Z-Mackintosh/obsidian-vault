# 例题  
求球面 $x^2 + y^2 + z^2 = R^2$ 和圆柱面 $x^2 + y^2 = Rx$ ($R > 0$) 所围立体的体积。

# 解答  
## 方法分析  
本题是计算由两个曲面所围立体体积的三重积分问题。球面以原点为中心、半径为 $R$，圆柱面母线平行于 $z$ 轴、底面圆心在 $(\frac{R}{2}, 0)$、半径为 $\frac{R}{2}$。利用对称性，仅计算上半空间体积后加倍，并在柱坐标系下简化积分区域与表达式。

## 解题步骤  
### Step 1：建立积分表达式  
由对称性，体积为：  
$$ V = 2 \iint_{D} \sqrt{R^2 - x^2 - y^2} \,dx\,dy $$  
其中 $D$ 是圆柱面在 $xy$ 平面的投影区域 $x^2 + y^2 \le Rx$。

### Step 2：转换至柱坐标系  
令 $x = r \cos\theta$, $y = r \sin\theta$, $dx\,dy = r\,dr\,d\theta$：  
- 圆柱面方程变为 $r = R \cos\theta$，且 $r \ge 0$ 要求 $\cos\theta \ge 0$，故 $\theta \in [-\frac{\pi}{2}, \frac{\pi}{2}]$。  
- 被积函数变为 $\sqrt{R^2 - r^2}$。  
积分转换为：  
$$ V = 2 \int_{-\pi/2}^{\pi/2} \int_{0}^{R\cos\theta} \sqrt{R^2 - r^2} \cdot r \,dr\,d\theta $$

### Step 3：计算内层积分  
计算 $\int_{0}^{R\cos\theta} r\sqrt{R^2 - r^2} \,dr$：  
令 $u = R^2 - r^2$, $du = -2r\,dr$，则 $r\,dr = -\frac{1}{2}du$。  
积分上下限：$r=0$ 时 $u=R^2$；$r=R\cos\theta$ 时 $u=R^2\sin^2\theta$。  
$$ \int_{R^2}^{R^2\sin^2\theta} \sqrt{u} \left(-\frac{1}{2}du\right) = -\frac{1}{2} \cdot \frac{2}{3} \left[ u^{3/2} \right]_{R^2}^{R^2\sin^2\theta} = -\frac{1}{3} \left( R^3|\sin\theta|^3 - R^3 \right) $$  
由于 $\theta \in [-\frac{\pi}{2}, \frac{\pi}{2}]$，有 $|\sin\theta|^3 = \sin^3\theta$（$\sin\theta$ 在区间内非负），故内层积分为：  
$$ \frac{R^3}{3} (1 - \sin^3\theta) $$

### Step 4：计算外层积分  
代入外层积分：  
$$ V = 2 \int_{-\pi/2}^{\pi/2} \frac{R^3}{3} (1 - \sin^3\theta) \,d\theta $$  
被积函数为偶函数，化简为：  
$$ V = \frac{4R^3}{3} \int_{0}^{\pi/2} (1 - \sin^3\theta) \,d\theta $$  
计算定积分：  
- $\int_{0}^{\pi/2} 1 \,d\theta = \frac{\pi}{2}$  
- $\int_{0}^{\pi/2} \sin^3\theta \,d\theta = \int_{0}^{\pi/2} (1-\cos^2\theta)\sin\theta \,d\theta = \left[ -\cos\theta + \frac{\cos^3\theta}{3} \right]_{0}^{\pi/2} = \frac{2}{3}$  
> （此处可以使用华里士公式）

因此：  
$$ V = \frac{4R^3}{3} \left( \frac{\pi}{2} - \frac{2}{3} \right) = R^3 \left( \frac{2\pi}{3} - \frac{8}{9} \right) $$  
最终答案为：  
$$ \boxed{R^3 \left( \frac{2\pi}{3} - \frac{8}{9} \right)} $$

# 核心技巧  
## 坐标系选择  
- 对于旋转对称或柱状区域，优先使用柱坐标系简化积分。  
## 对称性利用  
- 当立体关于 $xy$ 平面对称时，可计算上半空间体积后加倍，减少计算量。  
## 积分技巧  
- 通过变量代换（如 $u = R^2 - r^2$）处理形如 $r\sqrt{R^2 - r^2}$ 的积分。  
- 利用偶函数性质将积分区间减半，简化计算。

# 经验总结  
1. **区域分析**：明确曲面几何特征（如球面与圆柱面的相对位置）是确定积分区域的关键。  
2. **对称性应用**：识别并利用对称性可显著简化三重积分计算。  
3. **积分顺序**：在柱坐标系中，先对 $r$ 积分、再对 $\theta$ 积分能有效处理圆形投影区域。  
4. **绝对值处理**：在开方或幂运算中注意绝对值符号（如 $|\sin\theta|^3$），并通过积分区间性质简化。
