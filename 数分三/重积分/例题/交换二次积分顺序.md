# 题目
求 $\text{二次积分}\int_0^1x^2\mathrm{d}x\int_x^1\mathrm{e}^{-y^2}\mathrm{d}y$
# 解法
参考[[有界闭区域上的重积分#^aad00f]] 可知二重积分有多个积分角度
所以，首先根据题给积分画图：
1. 题给先定 $x$，则先确定 0 到 1 的 $x$ 区间
2. 题给后定 $y$，则根据上下限得知曲线 $y=1以及y=x$。
3. 被积函数为 $x^{2}e^{-y^{2}}$
如图：
![[交换二次积分顺序 2025-08-02 11.31.03.excalidraw]]
然后，重新选择顺序，先定 $y$
$$\int_{0}^{1}dy\int_{0}^{y}x^{2}e^{-y^{2}}dx$$
使用**分部积分法**，解得答案为
$$
\frac{1}{6}-\frac{1}{3e}
$$
# 经验
当面对一个二次积分，特别是当内层积分的被积函数难以找到原函数时（例如本题中的 $\mathrm{e}^{-y^2}$），则应考虑交换积分顺序。

交换积分顺序的关键在于：
1.  **画出积分区域**：根据原积分的上下限，准确画出积分区域的草图。
2.  **重新确定上下限**：从另一个坐标轴的视角重新描述这个区域的边界，从而确定新的积分上下限。

通过这种方法，往往能将复杂的积分问题转化为简单的、可解的问题。


# 例题  
$$
\int_{0}^{1} dx \int_{0}^{1-x} dy \int_{0}^{x+y} f (x, y, z) \, dz \quad \text{(改成按 } y \text{ 方向、} x \text{ 方向、} z \text{ 方向的次序积分)}
$$

# 解答  
## 方法分析  
原积分区域由  
$$0 \le x \le 1, \quad 0 \le y \le 1-x, \quad 0 \le z \le x+y$$  
确定。  
要改为按 $y, x, z$ 的次序积分，需要先确定 $z$ 的范围，再确定 $x$ 和 $y$ 的范围。  
从几何上看，区域是四面体，$z$ 从 $0$ 到 $1$，对于固定的 $z$，$x$ 从 $0$ 到 $1$，但 $y$ 的范围与 $x,z$ 有关。  
原式可拆分为两个部分：一部分是 $x \ge z$ 时 $y$ 从 $0$ 到 $1-x$，另一部分是 $x < z$ 时 $y$ 从 $z-x$ 到 $1-x$。

## 解题步骤  
### Step 1：确定 $z$ 的范围  
由 $0 \le z \le x+y$ 且 $x+y \le 1$，得 $0 \le z \le 1$。

### Step 2：固定 $z$，确定 $x$ 的范围  
$x$ 从 $0$ 到 $1$，但需考虑 $y$ 的范围变化。

### Step 3：固定 $z$ 和 $x$，确定 $y$ 的范围  
- 当 $x \ge z$ 时，$y$ 从 $0$ 到 $1-x$（因为 $z \le x+y$ 自动满足）。  
- 当 $x < z$ 时，$y$ 从 $z-x$ 到 $1-x$（需满足 $y \ge z-x$ 且 $y \le 1-x$）。

### Step 4：写出积分表达式  
因此积分可写为  
$$
\int_{0}^{1} dz \int_{z}^{1} dx \int_{0}^{1-x} f(x,y,z) \, dy + \int_{0}^{1} dz \int_{0}^{z} dx \int_{z-x}^{1-x} f(x,y,z) \, dy.
$$  
或者等价地，合并为  
$$
\int_{0}^{1} dz \int_{0}^{1} dx \int_{0}^{1-x} f(x,y,z) \, dy - \int_{0}^{1} dz \int_{0}^{z} dx \int_{0}^{z-x} f(x,y,z) \, dy.
$$



# 核心技巧  
## 积分次序交换  
- 先画出积分区域，确定投影范围。  
- 对固定外层变量，确定内层变量的上下限。  
- 必要时将区域拆分为几个部分分别积分。

# 经验总结  
1. **区域拆分法**：当积分区域由多个不等式定义时，按新的积分次序可能需要将区域拆分成若干子区域。  
2. **几何直观**：三重积分交换次序时，画出区域或投影到坐标平面有助于确定积分限。  
3. **合并与拆分**：有时将积分写成两个部分的差，比直接写两个和更简洁。

---

# 例题  
$$
\int_{-1}^{1} dx \int_{-\sqrt{1-x^{2}}}^{\sqrt{1-x^{2}}} dy \int_{\sqrt{x^{2}+y^{2}}}^{1} f (x, y, z) \, dz \quad \text{(改成按 } x \text{ 方向、} y \text{ 方向、} z \text{ 方向的次序积分)}
$$

# 解答  
## 方法分析  
原积分区域是圆锥 $z \ge \sqrt{x^2+y^2}$ 与圆柱 $x^2+y^2 \le 1$ 在 $0 \le z \le 1$ 内的部分。  
原次序是 $x \to y \to z$，现改为 $z \to y \to x$。  
固定 $z$，投影到 $xy$ 平面是圆盘 $x^2+y^2 \le z^2$（因为 $z \ge \sqrt{x^2+y^2}$ 即 $x^2+y^2 \le z^2$），且 $0 \le z \le 1$。  
在圆盘内，对固定 $y$，$x$ 的范围是 $-\sqrt{z^2-y^2} \le x \le \sqrt{z^2-y^2}$，$y$ 的范围是 $-z \le y \le z$。

## 解题步骤  
### Step 1：确定 $z$ 的范围  
由 $\sqrt{x^2+y^2} \le z \le 1$ 且 $x^2+y^2 \le 1$，得 $0 \le z \le 1$。

### Step 2：固定 $z$，确定 $y$ 的范围  
投影区域为 $x^2+y^2 \le z^2$，所以 $y$ 从 $-z$ 到 $z$。

### Step 3：固定 $z$ 和 $y$，确定 $x$ 的范围  
由 $x^2 \le z^2 - y^2$，得 $x$ 从 $-\sqrt{z^2-y^2}$ 到 $\sqrt{z^2-y^2}$。

### Step 4：写出积分表达式  
因此新次序的积分为  
$$
\int_{0}^{1} dz \int_{-z}^{z} dy \int_{-\sqrt{z^{2}-y^{2}}}^{\sqrt{z^{2}-y^{2}}} f(x,y,z) \, dx.
$$


# 核心技巧  
## 投影法确定积分限  
- 先确定最外层变量的范围。  
- 对每个外层变量固定，将区域投影到内层变量所在的平面，确定内层变量的范围。  
- 利用几何关系（如圆的方程）写出积分限。

# 经验总结  
1. **利用对称性**：当区域是旋转体时，固定 $z$ 后投影是圆，用 $y$ 作为中间变量时 $x$ 的范围用圆的方程解出。  
2. **注意平方根范围**：在确定 $x$ 的范围时，注意 $z^2 - y^2 \ge 0$ 自动由 $|y| \le z$ 保证。  
3. **直接投影**：从 $z$ 出发比从 $x,y$ 出发更容易处理圆锥与圆柱相交的区域。
