# 例题
设 $Q(x,y)$ 在 $xy$ 平面上具有连续偏导数，曲线积分  
$$\int 2xy\,dx + Q(x,y)\,dy$$  
与路径无关，并且对任意 $t$ 恒有  
$$
\int_{(0,0)}^{(t,1)} 2xy\,dx + Q(x,y)\,dy 
= \int_{(0,0)}^{(1,t)} 2xy\,dx + Q(x,y)\,dy.
$$  
求 $Q(x,y)$.

# 解答

## 方法分析
本题综合考察了**曲线积分与路径无关的条件**和**函数方程的求解**。需要利用路径无关性确定 $Q(x,y)$ 的形式，再通过给定的积分等式确定具体函数。

## 解题步骤

### Step 1：利用路径无关条件
积分与路径无关 $\Rightarrow$ 恰当条件成立：
$$
\frac{\partial Q}{\partial x} = \frac{\partial}{\partial y}(2xy) = 2x.
$$

对 $x$ 积分得：
$$
Q(x,y) = x^2 + \varphi(y),\quad \text{其中 } \varphi(y) \text{ 待定}.
$$

### Step 2：利用给定的积分等式
选择折线路径计算两边积分：

**左边**：从 $(0,0)$ 到 $(t,1)$
$$
\int_{(0,0)}^{(t,1)} = \int_0^1 Q(t,y)\,dy = \int_0^1 \bigl(t^2 + \varphi(y)\bigr)\,dy = t^2 + \int_0^1 \varphi(y)\,dy.
$$

**右边**：从 $(0,0)$ 到 $(1,t)$
$$
\int_{(0,0)}^{(1,t)} = \int_0^t Q(1,y)\,dy = \int_0^t \bigl(1 + \varphi(y)\bigr)\,dy = t + \int_0^t \varphi(y)\,dy.
$$

由题设条件，对 $\forall t$ 有：
$$
t^2 + \int_0^1 \varphi(y)\,dy = t + \int_0^t \varphi(y)\,dy. \tag{★}
$$

### Step 3：求解函数方程
对 (★) 式两边关于 $t$ 求导（利用微积分基本定理）：
$$
2t = 1 + \varphi(t) \quad\Longrightarrow\quad \varphi(t) = 2t - 1.
$$

### Step 4：得到最终结果
代回 $Q(x,y)$ 的表达式：
$$
Q(x,y) = x^2 + (2y - 1) = x^2 + 2y - 1.
$$

$$
\boxed{Q(x,y) = x^2 + 2y - 1}
$$

# 核心技巧

## 路径无关性的应用
- **恰当条件**：$\frac{\partial Q}{\partial x} = \frac{\partial P}{\partial y}$
- **积分路径选择**：选择便于计算的折线路径
- **函数形式确定**：通过偏微分方程确定函数结构

## 函数方程求解
- **积分方程处理**：利用微积分基本定理
- **参数求导**：对含参数积分求导
- **待定函数确定**：通过求导得到具体函数形式

## 路径选择策略
- **折线路径**：沿坐标轴方向积分
- **分段计算**：分别计算水平和垂直方向的积分
- **简化计算**：选择使被积函数简化的路径

# 经验总结
1. **路径无关条件**是确定函数形式的关键
2. **选择合适的积分路径**可以大大简化计算
3. **对含参数积分求导**是求解函数方程的有效方法
4. **验证结果**：可将求得的 $Q(x,y)$ 代回原条件验证

## 验证
将 $Q(x,y) = x^2 + 2y - 1$ 代入原条件：
- 路径无关性：$\frac{\partial Q}{\partial x} = 2x = \frac{\partial}{\partial y}(2xy)$ ✓
- 积分等式：两边计算均得 $t^2 + t - 1$ ✓