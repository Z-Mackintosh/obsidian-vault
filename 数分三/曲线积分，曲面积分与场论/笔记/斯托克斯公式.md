# 定义
将曲线积分转化为曲面积分

# 公式
设 $\Sigma$ 为分片光滑的有向曲面，边界为分段光滑的有向闭曲线 $\Gamma$，$P,Q,R$ 在包含 $\Sigma$ 的区域内具有一阶连续偏导数，曲面侧与边界曲线方向符合**右手法则**，则
$$ \oint_{\Gamma} P\,dx + Q\,dy + R\,dz = \iint_{\Sigma} \left( \frac{\partial R}{\partial y} - \frac{\partial Q}{\partial z} \right) dy\,dz + \left( \frac{\partial P}{\partial z} - \frac{\partial R}{\partial x} \right) dz\,dx + \left( \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \right) dx\,dy. $$

向量形式：记 $\mathbf{F} = P\mathbf{i} + Q\mathbf{j} + R\mathbf{k}$，则
$$ \oint_{\Gamma} \mathbf{F} \cdot d\mathbf{r} = \iint_{\Sigma} (\nabla \times \mathbf{F}) \cdot \mathbf{n}\,dS $$

# 旋度
$$ \nabla \times \mathbf{F} = \begin{vmatrix} \mathbf{i} & \mathbf{j} & \mathbf{k} \\ \frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\ P & Q & R \end{vmatrix} = \left( \frac{\partial R}{\partial y} - \frac{\partial Q}{\partial z} \right)\mathbf{i} + \left( \frac{\partial P}{\partial z} - \frac{\partial R}{\partial x} \right)\mathbf{j} + \left( \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \right)\mathbf{k} $$

物理意义：旋度表示向量场在某点的旋转程度和方向，旋度是单位面积上的环量。

# 右手法则（方向判断）
右手四指指向边界曲线 $\Gamma$ 的方向，拇指指向曲面 $\Sigma$ 的法向。

示例：从 $z$ 轴正向看曲线为逆时针方向 ⇒ 四指逆时针，拇指向上 ⇒ 曲面取上侧

# 法向量求解
## 隐式方程 $F(x,y,z)=0$
法向量 $\mathbf{n} = \nabla F = (F_x, F_y, F_z)$

## 显式方程 $z = f(x,y)$
法向量 $\mathbf{n} = (-f_x, -f_y, 1)$（上侧），下侧取负号

## 参数方程 $\mathbf{r}(u,v)$
法向量 $\mathbf{n} = \mathbf{r}_u \times \mathbf{r}_v$

常见曲面：
- 平面 $x+y+z=0$：$\mathbf{n} = (1,1,1)$
- 球面 $x^2+y^2+z^2=R^2$：$\mathbf{n}_0 = \frac{(x,y,z)}{R}$（外法向）

# 应用技巧
- **曲面选择**：可选择便于计算的曲面（如平面），只要边界相同
- **旋度计算**：若旋度为零，则环量为零
- **方向验证**：确保曲面侧与曲线方向符合右手法则

# 例题
## 题目1
计算 $\oint_{\Gamma} y\,dx + z\,dy + x\,dz$，其中 $\Gamma$ 是圆周 $x^2+y^2+z^2=a^2$, $x+y+z=0$，从 $z$ 轴正向看为逆时针。

### 解答
旋度：$\nabla \times \mathbf{F} = (-1, -1, -1)$

选择平面 $\Sigma: x+y+z=0$ 作为曲面，法向量 $\mathbf{n} = \frac{1}{\sqrt{3}}(1,1,1)$

曲面积分：$(-1,-1,-1)\cdot\frac{1}{\sqrt{3}}(1,1,1) = -\sqrt{3}$

$\Sigma$ 是半径为 $a$ 的圆盘，面积 $\pi a^2$

结果：$-\sqrt{3}\pi a^2$

## 题目2
计算 $\int_L (y-z)dx + (z-x)dy + (x-y)dz$，其中 $L$ 为圆柱面 $x^2+y^2=a^2$ 与平面 $\frac{x}{a}+\frac{z}{h}=1$ 的交线，从 $x$ 轴正向看为逆时针。

### 解答
向量场 $\mathbf{F} = (y-z, z-x, x-y)$

**旋度计算**：
$$ \nabla \times \mathbf{F} = \begin{vmatrix} \mathbf{i} & \mathbf{j} & \mathbf{k} \\ \frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\ y-z & z-x & x-y \end{vmatrix} = (-1-1, -1-1, -1-1) = (-2, -2, -2) $$

**法向量**：选择平面 $\Sigma: \frac{x}{a}+\frac{z}{h}=1$
$$ \mathbf{n} = \frac{(\frac{1}{a},0,\frac{1}{h})}{\sqrt{\frac{1}{a^2}+\frac{1}{h^2}}} = \frac{(h, 0, a)}{\sqrt{a^2+h^2}} $$

**点积**：
$$ (\nabla \times \mathbf{F}) \cdot \mathbf{n} = \frac{-2h - 2a}{\sqrt{a^2+h^2}} = \frac{-2(a+h)}{\sqrt{a^2+h^2}} $$

**面积计算**：$\Sigma$ 是圆柱面 $x^2+y^2=a^2$ 与平面的交线所围椭圆
椭圆半短轴为 $a$（圆柱半径），半长轴为 $\sqrt{a^2+h^2}$（空间椭圆在平面内的最大半径）
$$ S = \pi a\sqrt{a^2+h^2} $$

**结果**：
$$ \iint_{\Sigma} (\nabla \times \mathbf{F}) \cdot \mathbf{n}\,dS = \frac{-2(a+h)}{\sqrt{a^2+h^2}} \cdot \pi a\sqrt{a^2+h^2} = -2\pi a(a+h) $$

**注意**：原文结果 $-2\pi(a+h)$ 缺少系数 $a$，可能存在笔误
