# 定义
## 物理背景
斯托克斯公式建立了**空间曲面上的曲面积分**与**边界曲线上的曲线积分**之间的关系，描述了向量场的旋度与环量之间的关系。

# 斯托克斯公式
## 公式表述
设
① 分片光滑的有向曲面 $\Sigma$ 的边界为分段光滑的有向闭曲线 $\Gamma$；
② 函数 $P(x, y, z)$, $Q(x, y, z)$, $R(x, y, z)$ 在包含 $\Sigma$ 的空间区域内具有一阶连续偏导数；
③ 曲面 $\Sigma$ 的侧与边界曲线 $\Gamma$ 的方向符合右手法则。

则有
$$
\oint_{\Gamma} P\,dx + Q\,dy + R\,dz = \iint_{\Sigma} \left( \frac{\partial R}{\partial y} - \frac{\partial Q}{\partial z} \right) dy\,dz + \left( \frac{\partial P}{\partial z} - \frac{\partial R}{\partial x} \right) dz\,dx + \left( \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \right) dx\,dy.
$$

## 向量形式
记向量场 $\mathbf{F} = P\mathbf{i} + Q\mathbf{j} + R\mathbf{k}$，旋度 $\text{rot}\mathbf{F} = \nabla \times \mathbf{F}$，则
$$
\oint_{\Gamma} \mathbf{F} \cdot d\mathbf{r} = \iint_{\Sigma} (\nabla \times \mathbf{F}) \cdot \mathbf{n}\,dS.
$$

其中旋度分量为：
$$
\nabla \times \mathbf{F} = \begin{vmatrix}
\mathbf{i} & \mathbf{j} & \mathbf{k} \\
\frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\
P & Q & R
\end{vmatrix}
$$

## 应用条件
- 曲面必须有边界曲线
- 函数在区域内连续可导
- 曲面侧与曲线方向符合右手法则

# 应用技巧
## 曲面选择
- 可选择便于计算的曲面，只要边界相同
- 通常选择平面或简单曲面

## 方向判断
- 右手法则：拇指指向曲面法向，四指指向曲线方向
- 确保方向一致性

## 旋度计算
- 计算 $\nabla \times \mathbf{F}$ 的三个分量
- 若旋度为零，则环量为零

# 例题
## 题目
计算曲线积分
$$
\oint_{\Gamma} y\,dx + z\,dy + x\,dz,
$$
其中 $\Gamma$ 是圆周 $x^2 + y^2 + z^2 = a^2$, $x + y + z = 0$，方向从 $z$ 轴正向看为逆时针方向。

## 解答
### Step 1：应用斯托克斯公式
记 $P = y$, $Q = z$, $R = x$，计算旋度：
$$
\nabla \times \mathbf{F} = \begin{vmatrix}
\mathbf{i} & \mathbf{j} & \mathbf{k} \\
\frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\
y & z & x
\end{vmatrix} = (-1)\mathbf{i} + (-1)\mathbf{j} + (-1)\mathbf{k}.
$$

旋度：$\nabla \times \mathbf{F} = (-1, -1, -1)$。

### Step 2：选择曲面
选择平面 $\Sigma: x + y + z = 0$ 被球面 $x^2 + y^2 + z^2 = a^2$ 所截的部分，方向与 $\Gamma$ 符合右手法则。

平面法向量：$\mathbf{n} = \frac{1}{\sqrt{3}}(1, 1, 1)$（取上侧）。

### Step 3：计算曲面积分
$$
\iint_{\Sigma} (\nabla \times \mathbf{F}) \cdot \mathbf{n}\,dS = \iint_{\Sigma} (-1, -1, -1) \cdot \frac{1}{\sqrt{3}}(1, 1, 1)\,dS
$$
$$
= \iint_{\Sigma} \frac{-3}{\sqrt{3}}\,dS = -\sqrt{3} \iint_{\Sigma} dS.
$$

### Step 4：计算面积
$\Sigma$ 是平面 $x + y + z = 0$ 被球面 $x^2 + y^2 + z^2 = a^2$ 所截的圆盘，半径为 $a$。

面积：$\iint_{\Sigma} dS = \pi a^2$。

### Step 5：得到结果
$$
\oint_{\Gamma} y\,dx + z\,dy + x\,dz = -\sqrt{3} \pi a^2.
$$

$$
\boxed{-\sqrt{3}\pi a^2}
$$

## 题目
计算曲线积分
$$
\int_L (y-z)dx + (z-x)dy + (x-y)dz,
$$
其中 $L$ 为圆柱面 $x^2+y^2=a^2$ 和平面 $\frac{x}{a} +\frac{z}{h}=1(a>0, h>0)$ 的交线（它是椭圆），从 $x$ 轴的正向看去，是逆时针方向。

## 解答

### Step 1：应用斯托克斯公式
记向量场：
$$
\mathbf{F} = (P, Q, R) = (y-z, z-x, x-y)
$$

计算旋度：
$$
\nabla \times \mathbf{F} = \begin{vmatrix}
\mathbf{i} & \mathbf{j} & \mathbf{k} \\
\frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\
y-z & z-x & x-y
\end{vmatrix}
$$

计算各分量：
- $\mathbf{i}$ 分量：$\frac{\partial}{\partial y}(x-y) - \frac{\partial}{\partial z}(z-x) = -1 - 1 = -2$
- $\mathbf{j}$ 分量：$\frac{\partial}{\partial z}(y-z) - \frac{\partial}{\partial x}(x-y) = -1 - 1 = -2$
- $\mathbf{k}$ 分量：$\frac{\partial}{\partial x}(z-x) - \frac{\partial}{\partial y}(y-z) = -1 - 1 = -2$

所以：
$$
\nabla \times \mathbf{F} = (-2, -2, -2)
$$

### Step 2：选择曲面
选择平面 $\Sigma: \frac{x}{a} + \frac{z}{h} = 1$ 被圆柱面 $x^2+y^2=a^2$ 所截的部分。

平面的法向量：
$$
\mathbf{n} = \frac{1}{\sqrt{(\frac{1}{a})^2 + (\frac{1}{h})^2}}(\frac{1}{a}, 0, \frac{1}{h})
$$

### Step 3：方向判断
从 $x$ 轴正向看去，曲线 $L$ 为逆时针方向。根据右手法则，曲面 $\Sigma$ 应取上侧（法向量与 $y$ 轴正向一致）。

### Step 4：计算曲面积分
$$
\iint_{\Sigma} (\nabla \times \mathbf{F}) \cdot \mathbf{n}\,dS = \iint_{\Sigma} (-2, -2, -2) \cdot \frac{(\frac{1}{a}, 0, \frac{1}{h})}{\sqrt{\frac{1}{a^2} + \frac{1}{h^2}}}\,dS
$$

$$
= \iint_{\Sigma} \frac{-2(\frac{1}{a} + \frac{1}{h})}{\sqrt{\frac{1}{a^2} + \frac{1}{h^2}}}\,dS
$$

### Step 5：计算面积
曲面 $\Sigma$ 是平面 $\frac{x}{a} + \frac{z}{h} = 1$ 被圆柱面 $x^2+y^2=a^2$ 所截的椭圆。

椭圆的面积为：
$$
\iint_{\Sigma} dS = \pi a \cdot \sqrt{a^2 + h^2}
$$

### Step 6：得到结果
$$
\int_L (y-z)dx + (z-x)dy + (x-y)dz = \frac{-2(\frac{1}{a} + \frac{1}{h})}{\sqrt{\frac{1}{a^2} + \frac{1}{h^2}}} \cdot \pi a \sqrt{a^2 + h^2}
$$

化简：
$$
= -2\pi a \sqrt{a^2 + h^2} \cdot \frac{\frac{1}{a} + \frac{1}{h}}{\sqrt{\frac{1}{a^2} + \frac{1}{h^2}}}
$$

$$
= -2\pi a \sqrt{a^2 + h^2} \cdot \frac{\frac{h+a}{ah}}{\sqrt{\frac{h^2+a^2}{a^2h^2}}}
$$

$$
= -2\pi a \sqrt{a^2 + h^2} \cdot \frac{h+a}{ah} \cdot \frac{ah}{\sqrt{a^2+h^2}}
$$

$$
= -2\pi (a + h)
$$

$$
\boxed{-2\pi(a+h)}
$$

## 解题要点
1. **旋度计算**：本题旋度为常数向量，简化了计算
2. **曲面选择**：选择平面作为斯托克斯公式中的曲面
3. **方向判断**：注意曲线方向与曲面法向的关系
4. **面积计算**：椭圆面积公式的应用

## 验证
旋度为常数向量，结果与椭圆的具体形状无关，只与边界曲线的位置有关，符合斯托克斯公式的物理意义。 