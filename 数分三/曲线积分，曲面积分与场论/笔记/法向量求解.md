# 法向量求解通法

## 概述
法向量是曲面积分计算中的关键概念，正确的法向量求解是应用斯托克斯公式和高斯公式的基础。

## 根据曲面方程求法向量

### 1. 显式方程 $z = f(x,y)$
**法向量**：
$$
\mathbf{n} = (-f_x, -f_y, 1)
$$

**单位法向量**：
$$
\mathbf{n}_0 = \frac{(-f_x, -f_y, 1)}{\sqrt{1 + f_x^2 + f_y^2}}
$$

**方向说明**：
- 上侧：$\mathbf{n}$ 或 $\mathbf{n}_0$
- 下侧：$-\mathbf{n}$ 或 $-\mathbf{n}_0$

### 2. 隐式方程 $F(x,y,z) = 0$
**法向量**：
$$
\mathbf{n} = \nabla F = (F_x, F_y, F_z)
$$

**单位法向量**：
$$
\mathbf{n}_0 = \frac{(F_x, F_y, F_z)}{\sqrt{F_x^2 + F_y^2 + F_z^2}}
$$

**方向说明**：梯度方向是函数值增加最快的方向。

### 3. 参数方程 $\mathbf{r}(u,v) = (x(u,v), y(u,v), z(u,v))$
**法向量**：
$$
\mathbf{n} = \mathbf{r}_u \times \mathbf{r}_v = \begin{vmatrix}
\mathbf{i} & \mathbf{j} & \mathbf{k} \\
\frac{\partial x}{\partial u} & \frac{\partial y}{\partial u} & \frac{\partial z}{\partial u} \\
\frac{\partial x}{\partial v} & \frac{\partial y}{\partial v} & \frac{\partial z}{\partial v}
\end{vmatrix}
$$

**单位法向量**：
$$
\mathbf{n}_0 = \frac{\mathbf{r}_u \times \mathbf{r}_v}{|\mathbf{r}_u \times \mathbf{r}_v|}
$$

## 例题中的法向量求解

### 例题1：平面 $x + y + z = 0$
- 隐式方程：$F(x,y,z) = x + y + z = 0$
- 梯度：$\nabla F = (1, 1, 1)$
- 单位法向量：$\mathbf{n}_0 = \frac{1}{\sqrt{3}}(1, 1, 1)$

### 例题2：平面 $\frac{x}{a} + \frac{z}{h} = 1$
- 改写为：$F(x,y,z) = \frac{x}{a} + \frac{z}{h} - 1 = 0$
- 梯度：$\nabla F = (\frac{1}{a}, 0, \frac{1}{h})$
- 单位法向量：$\mathbf{n}_0 = \frac{(\frac{1}{a}, 0, \frac{1}{h})}{\sqrt{\frac{1}{a^2} + \frac{1}{h^2}}}$

## 常见曲面的法向量

### 1. 坐标平面
- $z = 0$（$xy$平面）：$\mathbf{n} = (0, 0, 1)$（上侧）
- $y = 0$（$xz$平面）：$\mathbf{n} = (0, 1, 0)$（前侧）
- $x = 0$（$yz$平面）：$\mathbf{n} = (1, 0, 0)$（右侧）

### 2. 球面 $x^2 + y^2 + z^2 = R^2$
- 梯度：$\nabla F = (2x, 2y, 2z)$
- 单位外法向量：$\mathbf{n}_0 = \frac{(x, y, z)}{R}$

### 3. 圆柱面 $x^2 + y^2 = R^2$
- 梯度：$\nabla F = (2x, 2y, 0)$
- 单位外法向量：$\mathbf{n}_0 = \frac{(x, y, 0)}{R}$

### 4. 锥面 $z = \sqrt{x^2 + y^2}$
- 显式方程：$z = \sqrt{x^2 + y^2}$
- 偏导数：$f_x = \frac{x}{\sqrt{x^2 + y^2}}$, $f_y = \frac{y}{\sqrt{x^2 + y^2}}$
- 法向量：$\mathbf{n} = (-\frac{x}{\sqrt{x^2 + y^2}}, -\frac{y}{\sqrt{x^2 + y^2}}, 1)$

## 方向判断与调整

### 1. 根据物理意义调整
- 封闭曲面：通常取外侧
- 斯托克斯公式：根据右手法则确定
- 实际问题：根据具体情境确定

### 2. 符号调整
如果求得的法向量方向与要求相反，只需取负号：
$$
\mathbf{n}_{\text{正确}} = -\mathbf{n}_{\text{求得}}
$$

### 3. 验证方法
- 取曲面上一点代入法向量
- 检查法向量是否指向要求的方向
- 与边界曲线方向验证右手法则

## 计算技巧

### 1. 简化计算
- 在曲面积分中，通常只需要法向量的方向
- 常数因子在点积运算中可以约去

### 2. 对称性利用
- 对称曲面的法向量具有对称性
- 可以利用对称性简化计算

### 3. 特殊情况处理
- 平面：法向量为常数
- 旋转曲面：法向量具有旋转对称性

## 常见错误
1. **忘记单位化**：在需要单位法向量时忘记除以模长
2. **方向错误**：没有根据具体问题调整方向
3. **符号错误**：在显式方程中忘记负号
4. **梯度计算错误**：隐式方程的偏导数计算错误

## 总结
法向量求解是曲面积分计算的基础，掌握不同类型曲面的法向量求解方法，并结合右手法则正确判断方向，是成功应用斯托克斯公式和高斯公式的关键。