# 题目
求下列函数导数
$$F(\:t\:)\:=\:\int_{0}^{t^{2}}\:\mathrm{d}x\:\int_{x-t}^{x+t}\sin(\:x^{2}\:+y^{2}\:-t^{2}\:)\:\mathrm{d}y.$$
# 解答
由外到内
$$F(t)^{'}=\:-2t\int_{0}^{t^{2}}\:\mathrm{d}x\int_{x-t}^{x+t}\:\cos(\:x^{2}\:+\:y^{2}\:-\:t^{2}\:)\:\mathrm{d}y\:+2\int_{0}^{t^{2}}\:\sin2x^{2}\cos\:2xt\:\mathrm{d}x\:+\\2t\int_{t^{2}-t}^{t^{2}+t}\sin\left(\:t^{4}\:-t^{2}\:+\:y^{2}\:\right)\mathrm{d}y.$$

## 解释
我们需要求函数 $F(t)$ 的导数 $F'(t)$，其中：
$$ F(t) = \int_0^{t^2} dx \int_{x-t}^{x+t} \sin(x^2 + y^2 - t^2) \, dy $$

这是一个含参变量 $t$ 的积分求导问题。我们可以将 $F(t)$ 看作外层积分，其被积函数也是一个关于 $t$ 的积分函数。
设：
$$ G(x, t) = \int_{x-t}^{x+t} \sin(x^2 + y^2 - t^2) \, dy $$
则 $F(t) = \int_0^{t^2} G(x, t) \, dx$。

根据莱布尼茨积分法则，对于 $F(t) = \int_{a(t)}^{b(t)} G(x, t) \, dx$，其导数为：
$$ F'(t) = G(b(t), t) \cdot b'(t) - G(a(t), t) \cdot a'(t) + \int_{a(t)}^{b(t)} \frac{\partial G}{\partial t} \, dx $$

在这里：
-   $a(t) = 0$，所以 $a'(t) = 0$。
-   $b(t) = t^2$，所以 $b'(t) = 2t$。

因此：
$$ F'(t) = G(t^2, t) \cdot 2t + \int_0^{t^2} \frac{\partial G}{\partial t} \, dx \quad \cdots\cdots (1) $$

接下来，我们需要计算 $G(t^2, t)$ 和 $\frac{\partial G}{\partial t}$。

**1. 计算 $G(t^2, t)$：**
将 $x = t^2$ 代入 $G(x, t)$ 的表达式：
$$ G(t^2, t) = \int_{t^2-t}^{t^2+t} \sin((t^2)^2 + y^2 - t^2) \, dy = \int_{t^2-t}^{t^2+t} \sin(t^4 + y^2 - t^2) \, dy $$
所以，公式 (1) 的第一项为：
$$ 2t \cdot G(t^2, t) = 2t \int_{t^2-t}^{t^2+t} \sin(t^4 + y^2 - t^2) \, dy $$

**2. 计算 $\frac{\partial G}{\partial t}$：**
对于 $G(x, t) = \int_{c(x,t)}^{d(x,t)} f(x, y, t) \, dy$，其中 $c(x,t) = x-t$，$d(x,t) = x+t$，$f(x, y, t) = \sin(x^2 + y^2 - t^2)$。
偏导数的公式为：
$$ \frac{\partial G}{\partial t} = \int_{c(x,t)}^{d(x,t)} \frac{\partial f}{\partial t} \, dy + f(x, d(x,t), t) \cdot \frac{\partial d}{\partial t} - f(x, c(x,t), t) \cdot \frac{\partial c}{\partial t} $$

计算各项：
-   被积函数对 $t$ 的偏导数：
    $$ \frac{\partial}{\partial t} \sin(x^2 + y^2 - t^2) = \cos(x^2 + y^2 - t^2) \cdot (-2t) = -2t \cos(x^2 + y^2 - t^2) $$
-   上限相关项：
    $$ \frac{\partial d}{\partial t} = \frac{\partial}{\partial t}(x+t) = 1 $$
    $$ f(x, x+t, t) = \sin(x^2 + (x+t)^2 - t^2) = \sin(x^2 + x^2 + 2xt + t^2 - t^2) = \sin(2x^2 + 2xt) $$
-   下限相关项：
    $$ \frac{\partial c}{\partial t} = \frac{\partial}{\partial t}(x-t) = -1 $$
    $$ f(x, x-t, t) = \sin(x^2 + (x-t)^2 - t^2) = \sin(x^2 + x^2 - 2xt + t^2 - t^2) = \sin(2x^2 - 2xt) $$

将这些代入 $\frac{\partial G}{\partial t}$ 的表达式：
$$ \frac{\partial G}{\partial t} = \int_{x-t}^{x+t} -2t \cos(x^2 + y^2 - t^2) \, dy + \sin(2x^2 + 2xt) \cdot 1 - \sin(2x^2 - 2xt) \cdot (-1) $$
$$ \frac{\partial G}{\partial t} = -2t \int_{x-t}^{x+t} \cos(x^2 + y^2 - t^2) \, dy + \sin(2x^2 + 2xt) + \sin(2x^2 - 2xt) $$

现在，将 $\frac{\partial G}{\partial t}$ 代入公式 (1) 的积分项中：
$$ \int_0^{t^2} \frac{\partial G}{\partial t} \, dx = \int_0^{t^2} \left[ -2t \int_{x-t}^{x+t} \cos(x^2 + y^2 - t^2) \, dy + \sin(2x^2 + 2xt) + \sin(2x^2 - 2xt) \right] \, dx $$

**3. 综合结果：**
将两部分结果组合起来，得到 $F'(t)$ 的最终表达式：

$$ F'(t) = 2t \int_{t^2-t}^{t^2+t} \sin(t^4 + y^2 - t^2) \, dy + \int_0^{t^2} \left[ \sin(2x^2 + 2xt) + \sin(2x^2 - 2xt) \right] \, dx - 2t \int_0^{t^2} dx \int_{x-t}^{x+t} \cos(x^2 + y^2 - t^2) \, dy $$

利用三角函数的和差化积公式 $\sin A + \sin B = 2 \sin \frac{A+B}{2} \cos \frac{A-B}{2}$，中间的积分项可以化简：
$$ \sin(2x^2 + 2xt) + \sin(2x^2 - 2xt) = 2 \sin(2x^2) \cos(2xt) $$

最终答案为：
$$ F'(t) = 2t \int_{t^2-t}^{t^2+t} \sin(y^2 + t^4 - t^2) \, dy + 2 \int_0^{t^2} \sin(2x^2) \cos(2xt) \, dx - 2t \iint_{D} \cos(x^2 + y^2 - t^2) \, dx \, dy $$
其中积分区域 $D$ 为 $0 \le x \le t^2, x-t \le y \le x+t$。

由于题目通常要求直接应用求导法则，写出表达式即可，上述即为该函数的导数。