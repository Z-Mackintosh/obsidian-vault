# 例题
某人上班时需要经过一个交通指示灯，该指示灯 80%的时间亮红灯，20%的时间亮绿灯。当遇到红灯时，他需要等待直到绿灯亮起。等待时间在区间 $[0, 30]$ 秒内服从均匀分布。我们需要求出等待时间 $X$ 的分布函数 $F(x)$，并判断 $X$ 是否为连续型随机变量。

# 解答

## 方法分析
本题是典型的**混合型随机变量**问题，需要综合运用全概率公式和条件概率来求解分布函数。

## 解题步骤

### Step 1：定义事件和概率
- 事件 $A$：指示灯亮绿灯
- $P(A) = 0.2$（绿灯的概率）
- $P(\overline{A}) = 0.8$（红灯的概率）

### Step 2：分析条件概率
- 当遇到绿灯时，等待时间 $X = 0$，即：
  $$P(X \leq x | A) = 1 \quad \text{对所有 } x \geq 0$$

- 当遇到红灯时，等待时间 $X$ 在区间 $[0, 30]$ 内服从均匀分布，即：
  $$P(X \leq x | \overline{A}) = \begin{cases}
  0 & x < 0 \\
  \frac{x}{30} & 0 \leq x \leq 30 \\
  1 & x > 30
  \end{cases}$$

### Step 3：应用全概率公式
利用全概率公式计算 $P(X \leq x)$：
$$
P(X \leq x) = P(X \leq x | A)P(A) + P(X \leq x | \overline{A})P(\overline{A})
$$

代入已知条件：
$$
P(X \leq x) = 1 \times 0.2 + \frac{x}{30} \times 0.8 = 0.2 + \frac{0.8x}{30}
$$

### Step 4：确定分布函数 $F(x)$
综合所有情况，得到完整的分布函数：

$$
F(x) = P(X \leq x) = \begin{cases}
0 & x < 0 \\
0.2 + \frac{0.8x}{30} & 0 \leq x \leq 30 \\
1 & x > 30
\end{cases}
$$

### Step 5：判断随机变量类型
观察分布函数 $F(x)$：
- 在 $x = 0$ 处有一个跳跃，跳跃高度为 $F(0) - F(0^-) = 0.2 - 0 = 0.2$
- 在区间 $(0, 30)$ 内，$F(x)$ 是连续的线性函数
- 在 $x = 30$ 处连续

因此，$X$ 是**混合型随机变量**，既不是纯粹的连续型，也不是纯粹的离散型。

$$
\boxed{F(x) = \begin{cases}
0 & x < 0 \\
0.2 + \frac{0.8x}{30} & 0 \leq x \leq 30 \\
1 & x > 30
\end{cases}}
$$

# 核心技巧

## 全概率公式应用
- **适用场景**：随机变量取值依赖于某个事件的发生
- **公式形式**：$P(X \leq x) = \sum P(X \leq x | A_i)P(A_i)$
- **关键步骤**：正确识别条件概率和先验概率

## 混合型随机变量识别
- **特征**：分布函数既有跳跃点又有连续部分
- **判断方法**：检查分布函数是否处处连续
- **物理意义**：反映了随机现象的多重性质

## 条件概率分析
- **离散部分**：$X = 0$ 对应遇到绿灯的情况
- **连续部分**：$X \in (0, 30]$ 对应遇到红灯的情况
- **边界处理**：注意区间的开闭性

# 经验总结
1. **事件分析**：首先明确影响随机变量的关键事件
2. **条件分布**：针对不同事件分别分析随机变量的分布
3. **全概率公式**：综合各种情况得到整体分布
4. **类型判断**：通过分布函数的连续性判断随机变量类型
5. **物理验证**：检查结果的物理意义是否合理

## 拓展思考
1. 如果等待时间的分布不是均匀分布，而是其他分布，如何求解？
2. 如果遇到红灯的概率随时间变化，如何建模？
3. 这种混合型随机变量在实际生活中有哪些其他应用？



